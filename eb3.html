<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Estudo Interativo da Bíblia</title>
    <link rel="stylesheet" href="styles3.css">
</head>
<body>
    <header>
        <h1>Estudo Interativo da Bíblia</h1>
    </header>
    <main>
        <section id="search-section">
            <input type="text" id="search-input" placeholder="Digite um versículo ou palavra-chave">
            <button onclick="searchVerse()">Buscar</button>
        </section>
        <section id="verse-section">
            <h2>Versículo do Dia</h2>
            <p id="random-verse"></p>
            <button onclick="generateRandomVerse()">Outro Versículo</button>
        </section>
        <section id="chapter-section">
            <h2>Leitura de Capítulo</h2>
            <select id="book-select">
                <option value="" disabled selected>Selecione um livro</option>
            </select>
            <input type="number" id="chapter-input" placeholder="Capítulo" min="1">
            <button onclick="readChapter()">Ler Capítulo</button>
            <div id="chapter-content"></div>
        </section>
        <section id="resources-section">
            <h2>Recursos de Estudo</h2>
            <ul>
                <li><a href="https://www.bibliaonline.com.br/" target="_blank">Bíblia Online</a></li>
                <li><a href="https://www.biblegateway.com/" target="_blank">Bible Gateway</a></li>
                <li><a href="https://www.blueletterbible.org/" target="_blank">Blue Letter Bible</a></li>
            </ul>
        </section>
    </main>
    <script>
        async function fetchBooks() {
    try {
        const response = await fetch('https://www.abibliadigital.com.br/api/books');
        const data = await response.json();
        const bookSelect = document.getElementById('book-select');
        data.forEach(book => {
            const option = document.createElement('option');
            option.value = book.abbrev.pt;
            option.textContent = book.name;
            bookSelect.appendChild(option);
        });
    } catch (error) {
        console.error('Erro ao buscar livros:', error);
    }
}

async function generateRandomVerse() {
    try {
        const response = await fetch('https://www.abibliadigital.com.br/api/verses/nvi/random');
        const data = await response.json();
        document.getElementById('random-verse').innerText = `${data.book.name} ${data.chapter}:${data.number} - ${data.text}`;
    } catch (error) {
        console.error('Erro ao buscar versículo aleatório:', error);
        document.getElementById('random-verse').innerText = 'Erro ao buscar versículo. Tente novamente mais tarde.';
    }
}

async function searchVerse() {
    const query = document.getElementById('search-input').value;
    try {
        const response = await fetch(`https://www.abibliadigital.com.br/api/verses/nvi/${encodeURIComponent(query)}`);
        const data = await response.json();
        if (data.text) {
            document.getElementById('random-verse').innerText = `${data.book.name} ${data.chapter}:${data.number} - ${data.text}`;
        } else {
            document.getElementById('random-verse').innerText = 'Nenhum versículo encontrado.';
        }
    } catch (error) {
        console.error('Erro ao buscar versículo:', error);
        document.getElementById('random-verse').innerText = 'Erro ao buscar versículo. Tente novamente mais tarde.';
    }
}

async function readChapter() {
    const book = document.getElementById('book-select').value;
    const chapter = document.getElementById('chapter-input').value;
    try {
        const response = await fetch(`https://www.abibliadigital.com.br/api/verses/nvi/${encodeURIComponent(book)}/${chapter}`);
        const data = await response.json();
        if (data.verses) {
            let chapterContent = '';
            data.verses.forEach(verse => {
                chapterContent += `<p><strong>${verse.number}:</strong> ${verse.text}</p>`;
            });
            document.getElementById('chapter-content').innerHTML = chapterContent;
        } else {
            document.getElementById('chapter-content').innerText = 'Nenhum capítulo encontrado.';
        }
    } catch (error) {
        console.error('Erro ao buscar capítulo:', error);
        document.getElementById('chapter-content').innerText = 'Erro ao buscar capítulo. Tente novamente mais tarde.';
    }
}

// Gera um versículo aleatório ao carregar a página
window.onload = () => {
    generateRandomVerse();
    fetchBooks();
};
        
    </script>
</body>
</html>